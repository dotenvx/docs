(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{1118:function(n,e,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/languages/kotlin",function(){return o(220)}])},220:function(n,e,o){"use strict";o.r(e),o.d(e,{__N_SSG:function(){return r}});var s=o(5893),t=o(1151);function a(n){let e=Object.assign({h5:"h5",h1:"h1",p:"p",h2:"h2",code:"code",pre:"pre",a:"a",h4:"h4",strong:"strong"},(0,t.ah)(),n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h5,{children:"Language Guides"}),"\n",(0,s.jsx)(e.h1,{children:"Kotlin"}),"\n",(0,s.jsxs)(e.p,{children:["ⓘ This guide assumes you are already familiar with ",(0,s.jsx)("a",{href:"https://github.com/cdimascio/dotenv-kotlin",children:"dotenv-kotlin"}),". It extends it with ",(0,s.jsx)("a",{href:"https://github.com/dotenv-org/dotenv-vault-kotlin",children:"dotenv-vault-kotlin"}),"."]}),"\n",(0,s.jsx)(e.h2,{id:"install",children:"\uD83C\uDF31 Install"}),"\n",(0,s.jsxs)(e.p,{children:["Add jitpack repository to your ",(0,s.jsx)(e.code,{children:"build.gradle"})," or ",(0,s.jsx)(e.code,{children:"build.gradle.kts"})," and require the ",(0,s.jsx)(e.code,{children:"com.github.dotenv-org:dotenv-vault-kotlin:x.x.x"})," implementation dependency."]}),"\n",(0,s.jsx)(e.pre,{language:"groovy",code:"// build.gradle\n...\nrepositories {\n    ...\n    maven { url 'https://jitpack.io' }\n}\n\ndependencies {\n    ...\n    implementation 'com.github.dotenv-org:dotenv-vault-kotlin:0.0.2'\n}\n",children:(0,s.jsx)(e.code,{className:"language-groovy",children:'<span><span style="color: var(--shiki-token-comment)">// build.gradle</span></span>\n<span><span style="color: var(--shiki-token-keyword)">..</span><span style="color: var(--shiki-color-text)">.</span></span>\n<span><span style="color: var(--shiki-color-text)">repositories {</span></span>\n<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">..</span><span style="color: var(--shiki-color-text)">.</span></span>\n<span><span style="color: var(--shiki-color-text)">    maven { url </span><span style="color: var(--shiki-token-string-expression)">&#39;https://jitpack.io&#39;</span><span style="color: var(--shiki-color-text)"> }</span></span>\n<span><span style="color: var(--shiki-color-text)">}</span></span>\n<span></span>\n<span><span style="color: var(--shiki-color-text)">dependencies {</span></span>\n<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">..</span><span style="color: var(--shiki-color-text)">.</span></span>\n<span><span style="color: var(--shiki-color-text)">    implementation </span><span style="color: var(--shiki-token-string-expression)">&#39;com.github.dotenv-org:dotenv-vault-kotlin:0.0.2&#39;</span></span>\n<span><span style="color: var(--shiki-color-text)">}</span></span>\n<span></span>'})}),"\n",(0,s.jsx)(e.p,{children:"or"}),"\n",(0,s.jsx)(e.pre,{language:"kotlin",code:'// build.gradle.kts\n...\nrepositories {\n    ...\n    maven { url = uri("https://jitpack.io") }\n}\n\ndependencies {\n    ...\n    implementation("com.github.dotenv-org:dotenv-vault-kotlin:0.0.2")\n}\n',children:(0,s.jsx)(e.code,{className:"language-kotlin",children:'<span><span style="color: var(--shiki-token-comment)">// build.gradle.kts</span></span>\n<span><span style="color: var(--shiki-color-text)">...</span></span>\n<span><span style="color: var(--shiki-color-text)">repositories {</span></span>\n<span><span style="color: var(--shiki-color-text)">    ...</span></span>\n<span><span style="color: var(--shiki-color-text)">    maven { url </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> uri(</span><span style="color: var(--shiki-token-string-expression)">&quot;https://jitpack.io&quot;</span><span style="color: var(--shiki-color-text)">) }</span></span>\n<span><span style="color: var(--shiki-color-text)">}</span></span>\n<span></span>\n<span><span style="color: var(--shiki-color-text)">dependencies {</span></span>\n<span><span style="color: var(--shiki-color-text)">    ...</span></span>\n<span><span style="color: var(--shiki-color-text)">    implementation(</span><span style="color: var(--shiki-token-string-expression)">&quot;com.github.dotenv-org:dotenv-vault-kotlin:0.0.2&quot;</span><span style="color: var(--shiki-color-text)">)</span></span>\n<span><span style="color: var(--shiki-color-text)">}</span></span>\n<span></span>'})}),"\n",(0,s.jsx)(e.h2,{id:"usage-env",children:"\uD83C\uDFD7️ Usage (.env)"}),"\n",(0,s.jsxs)(e.p,{children:["Development usage works just like ",(0,s.jsx)(e.a,{href:"https://github.com/cdimascio/dotenv-kotlin",children:"dotenv-kotlin"}),"."]}),"\n",(0,s.jsxs)(e.p,{children:["Add your application configuration to your ",(0,s.jsx)(e.code,{children:".env"})," file in the root of your project:"]}),"\n",(0,s.jsx)(e.pre,{code:"S3_BUCKET=YOURS3BUCKET\nSECRET_KEY=YOURSECRETKEYGOESHERE\n",children:(0,s.jsx)(e.code,{children:"S3_BUCKET=YOURS3BUCKET\nSECRET_KEY=YOURSECRETKEYGOESHERE\n"})}),"\n",(0,s.jsx)(e.p,{children:"As early as possible in your application code, load .env:"}),"\n",(0,s.jsx)(e.pre,{language:"kotlin",code:'import org.dotenv.vault.dotenvVault\n\nval dotenv = dotenvVault()\ndotenv["S3_BUCKET"]\n',children:(0,s.jsx)(e.code,{className:"language-kotlin",children:'<span><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">org.dotenv.vault.dotenvVault</span></span>\n<span></span>\n<span><span style="color: var(--shiki-token-keyword)">val</span><span style="color: var(--shiki-color-text)"> dotenv </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> dotenvVault()</span></span>\n<span><span style="color: var(--shiki-color-text)">dotenv[</span><span style="color: var(--shiki-token-string-expression)">&quot;S3_BUCKET&quot;</span><span style="color: var(--shiki-color-text)">]</span></span>\n<span></span>'})}),"\n",(0,s.jsx)(e.h2,{id:"deploying-env-vault",children:"\uD83D\uDE80 Deploying (.env.vault)"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.a,{href:"https://www.dotenv.org/install",children:"Install"})," dotenv-vault."]}),"\n",(0,s.jsx)(e.pre,{code:"See install instructions at https://www.dotenv.org/install\n",children:(0,s.jsx)(e.code,{children:"See install instructions at https://www.dotenv.org/install\n"})}),"\n",(0,s.jsx)(e.p,{children:"Then encrypt your environment variables by doing:"}),"\n",(0,s.jsx)(e.pre,{language:"shell",code:"$ dotenv-vault local build\n",children:(0,s.jsx)(e.code,{className:"language-shell",children:'<span><span style="color: var(--shiki-color-text)">$ dotenv-vault </span><span style="color: var(--shiki-token-keyword)">local</span><span style="color: var(--shiki-color-text)"> build</span></span>\n<span></span>'})}),"\n",(0,s.jsxs)(e.p,{children:["This will create an encrypted ",(0,s.jsx)(e.code,{children:".env.vault"})," file along with a ",(0,s.jsx)(e.code,{children:".env.keys"})," file containing the encryption keys."]}),"\n",(0,s.jsxs)(e.p,{children:["Set the ",(0,s.jsx)(e.code,{children:"DOTENV_KEY"})," environment variable by copying and pasting the key value from the ",(0,s.jsx)(e.code,{children:".env.keys"})," file onto your server or cloud provider. For example in heroku:"]}),"\n",(0,s.jsx)(e.pre,{code:"$ heroku config:set DOTENV_KEY=<key string from .env.keys>\n",children:(0,s.jsx)(e.code,{children:"$ heroku config:set DOTENV_KEY=<key string from .env.keys>\n"})}),"\n",(0,s.jsx)(e.p,{children:"Commit your .env.vault file safely to code and deploy. Your .env.vault fill be decrypted on boot, its environment variables injected, and your app work as expected."}),"\n",(0,s.jsx)(e.h2,{id:"manage-multiple-environments",children:"\uD83C\uDF34 Manage Multiple Environments"}),"\n",(0,s.jsxs)(e.p,{children:["You have two options for managing multiple environments - locally managed or vault managed - both use ",(0,s.jsx)("a",{href:"https://github.com/dotenv-org/dotenv-vault",children:"dotenv-vault"}),"."]}),"\n",(0,s.jsx)(e.p,{children:"Locally managed never makes a remote API call. It is completely managed on your machine. Vault managed adds conveniences like backing up your .env file, secure sharing across your team, access permissions, and version history. Choose what works best for you."}),"\n",(0,s.jsx)(e.h4,{children:"\uD83D\uDCBB Locally Managed"}),"\n",(0,s.jsxs)(e.p,{children:["Create a ",(0,s.jsx)(e.code,{children:".env.production"})," file in the root of your project and put your production values there."]}),"\n",(0,s.jsx)(e.pre,{code:'# .env.production\nS3_BUCKET="PRODUCTION_S3BUCKET"\nSECRET_KEY="PRODUCTION_SECRETKEYGOESHERE"\n',children:(0,s.jsx)(e.code,{children:'# .env.production\nS3_BUCKET="PRODUCTION_S3BUCKET"\nSECRET_KEY="PRODUCTION_SECRETKEYGOESHERE"\n'})}),"\n",(0,s.jsxs)(e.p,{children:["Rebuild your ",(0,s.jsx)(e.code,{children:".env.vault"})," file."]}),"\n",(0,s.jsx)(e.pre,{code:"$ dotenv-vault local build\n",children:(0,s.jsx)(e.code,{children:"$ dotenv-vault local build\n"})}),"\n",(0,s.jsxs)(e.p,{children:["Check your ",(0,s.jsx)(e.code,{children:".env.keys"})," file. There is a production ",(0,s.jsx)(e.code,{children:"DOTENV_KEY"})," that coincides with the additional ",(0,s.jsx)(e.code,{children:"DOTENV_VAULT_PRODUCTION"})," cipher in your ",(0,s.jsx)(e.code,{children:".env.vault"})," file."]}),"\n",(0,s.jsxs)(e.p,{children:["Set the production ",(0,s.jsx)(e.code,{children:"DOTENV_KEY"})," on your server, recommit your ",(0,s.jsx)(e.code,{children:".env.vault"})," file to code, and deploy. That's it!"]}),"\n",(0,s.jsx)(e.h4,{children:"\uD83D\uDD10 Vault Managed"}),"\n",(0,s.jsxs)(e.p,{children:["Sync your .env file. Run the push command and follow the instructions. ",(0,s.jsx)(e.a,{href:"/docs/sync/quickstart",children:"learn more"})]}),"\n",(0,s.jsx)(e.pre,{code:"$ dotenv-vault push\n",children:(0,s.jsx)(e.code,{children:"$ dotenv-vault push\n"})}),"\n",(0,s.jsxs)(e.p,{children:["Manage multiple environments with the included UI. ",(0,s.jsx)(e.a,{href:"/docs/tutorials/environments",children:"learn more"})]}),"\n",(0,s.jsx)(e.pre,{code:"$ dotenv-vault open\n",children:(0,s.jsx)(e.code,{children:"$ dotenv-vault open\n"})}),"\n",(0,s.jsxs)(e.p,{children:["Build your ",(0,s.jsx)(e.code,{children:".env.vault"})," file with multiple environments."]}),"\n",(0,s.jsx)(e.pre,{code:"$ dotenv-vault build\n",children:(0,s.jsx)(e.code,{children:"$ dotenv-vault build\n"})}),"\n",(0,s.jsxs)(e.p,{children:["Access your ",(0,s.jsx)(e.code,{children:"DOTENV_KEY"}),"."]}),"\n",(0,s.jsx)(e.pre,{code:"$ dotenv-vault keys\n",children:(0,s.jsx)(e.code,{children:"$ dotenv-vault keys\n"})}),"\n",(0,s.jsxs)(e.p,{children:["Set the production ",(0,s.jsx)(e.code,{children:"DOTENV_KEY"})," on your server, recommit your ",(0,s.jsx)(e.code,{children:".env.vault"})," file to code, and deploy. That's it!"]}),"\n",(0,s.jsx)(e.h2,{id:"faq",children:"❓ FAQ"}),"\n",(0,s.jsxs)(e.h4,{children:["What happens if ",(0,s.jsx)(e.code,{children:"DOTENV_KEY"})," is not set?"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.a,{href:"https://github.com/dotenv-org/godotenvvault",children:"godotenvvault"})," gracefully falls back to ",(0,s.jsx)(e.a,{href:"https://github.com/joho/godotenv",children:"godotenv"})," when ",(0,s.jsx)(e.code,{children:"DOTENV_KEY"})," is not set. This is the default for development so that you can focus on editing your ",(0,s.jsx)(e.code,{children:".env"})," file and save the ",(0,s.jsx)(e.code,{children:"build"})," command until you are ready to deploy those environment variables changes."]}),"\n",(0,s.jsxs)(e.h4,{children:["Should I commit my ",(0,s.jsx)(e.code,{children:".env"})," file?"]}),"\n",(0,s.jsxs)(e.p,{children:["No. We ",(0,s.jsx)(e.strong,{children:"strongly"})," recommend against committing your ",(0,s.jsx)(e.code,{children:".env"})," file to version control. It should only include environment-specific values such as database passwords or API keys. Your production database should have a different password than your development database."]}),"\n",(0,s.jsxs)(e.h4,{children:["Should I commit my ",(0,s.jsx)(e.code,{children:".env.vault"})," file?"]}),"\n",(0,s.jsx)(e.p,{children:"Yes. It is safe and recommended to do so. It contains your encrypted envs, and your vault identifier."}),"\n",(0,s.jsxs)(e.h4,{children:["Can I share the ",(0,s.jsx)(e.code,{children:"DOTENV_KEY"}),"?"]}),"\n",(0,s.jsx)(e.p,{children:"No. It is the key that unlocks your encrypted environment variables. Be very careful who you share this key with. Do not let it leak."})]})}var r=!0;e.default=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,t.ah)(),n.components);return e?(0,s.jsx)(e,Object.assign({},n,{children:(0,s.jsx)(a,n)})):a(n)}}},function(n){n.O(0,[9774,2888,179],function(){return n(n.s=1118)}),_N_E=n.O()}]);