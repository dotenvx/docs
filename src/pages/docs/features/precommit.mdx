import { Logo } from '@/components/Logo'
import { FeaturesBreadcrumb } from '@/components/FeaturesBreadcrumb'
import { GuideHeading } from '@/components/GuideHeading'

export const description =
  'Prevent .env files from being committed to code with dotenvx\'s pre-commit hook.'

<FeaturesBreadcrumb feature="Precommit" icon={
  <>
    <Logo className="w-10 h-10" />
  </>
} />
# Precommit hook
<GuideHeading lead={description} />

## Installation

```bash
dotenvx precommit --install
```

This installs a shell script to `.git/hooks/pre-commit`.

## Usage

If you have installed the precommit hook with `dotenvx precommit --install`, simply attempt to commit a `.env` file to code.

```bash
touch .env
git add .env
git commit -am "add .env file"
[dotenvx@0.10.1][precommit] .env not properly gitignored
? add .env to .gitignore with [echo ".env*" >> .gitignore]
```

The dotenvx precommit hook tries to give you next steps wherever possible.

## Manual Usage

If you prefer not to install it as a hook you can run it manually. This can be useful for `ci`.

```bash
dotenvx precommit
```
