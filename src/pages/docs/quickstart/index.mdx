import { Video } from '@/components/Video'
import { ScreenshotBrowser } from '@/components/ScreenshotBrowser'
import InstallCodeGroup from '@/pages/partials/installCodeGroup.mdx'
import InstallLibariesCodeGroup from '@/pages/partials/installLibrariesCodeGroup.mdx'
import HelloWorldCodeGroup from '@/pages/partials/helloWorldCodeGroup.mdx'

import { GoIcon } from '@/components/icons/GoIcon'
import { NodeIcon } from '@/components/icons/NodeIcon'
import { PhpIcon } from '@/components/icons/PhpIcon'
import { PythonIcon } from '@/components/icons/PythonIcon'
import { RubyIcon } from '@/components/icons/RubyIcon'
import { RustIcon } from '@/components/icons/RustIcon'

export const description =
  'Manage secrets with dotenvx'

##### [Documentation](/docs)
# Basics

Learn the basics of `dotenvx` in just a few minutes. {{ className: 'lead' }} 

- run anywhere (cross-platform)
- multiple environments
- encrypted envs

## Run Anywhere

> Run it with `dotenvx run -- yourcommand`.

<CodeGroup>

```bash {{ title: 'Node' }}
$ echo "HELLO=World" > .env
$ echo "console.log('Hello ' + process.env.HELLO)" > index.js

$ node index.js
Hello undefined

$ dotenvx run -- node index.js
Hello World
```

```bash {{ title: 'Deno' }}
$ echo "HELLO=World" > .env
$ echo "console.log('Hello ' + Deno.env.get('HELLO'))" > index.ts

$ deno run --allow-env index.ts
Hello undefined

$ dotenvx run -- deno run --allow-env index.ts
Hello World
```

```bash {{ title: 'Bun' }}
$ echo "HELLO=Test" > .env.test
$ echo "console.log('Hello ' + process.env.HELLO)" > index.js

$ bun index.js
Hello undefined

$ dotenvx run -f .env.test -- bun index.js
Hello Test
```

```bash {{ title: 'Python' }}
$ echo "HELLO=World" > .env 
$ echo 'import os;print("Hello " + os.getenv("HELLO", ""))' > index.py

$ dotenvx run -- python3 index.py
Hello World
```

```bash {{ title: 'PHP' }}
$ echo "HELLO=World" > .env 
$ echo '<?php echo "Hello {$_SERVER["HELLO"]}\n";' > index.php

$ dotenvx run -- php index.php
Hello World
```

```bash {{ title: 'Ruby' }}
$ echo "HELLO=World" > .env 
$ echo 'puts "Hello #{ENV["HELLO"]}"' > index.rb

$ dotenvx run -- ruby index.rb
Hello World
```

```bash {{ title: 'Go' }}
$ echo "HELLO=World" > .env 
$ echo 'package main; import ("fmt"; "os"); func main() { fmt.Printf("Hello %s\n", os.Getenv("HELLO")) }' > main.go

$ dotenvx run -- go run main.go
Hello World
```

```bash {{ title: 'Rust' }}
$ echo "HELLO=World" > .env 
$ echo 'fn main() {let hello = std::env::var("HELLO").unwrap_or("".to_string());println!("Hello {hello}");}' > src/main.rs

$ dotenvx run -- cargo run
Hello World
```

```bash {{ title: 'Java' }}
$ echo "HELLO=World" > .env 
$ echo 'public class Index { public static void main(String[] args) { System.out.println("Hello " + System.getenv("HELLO")); } }' > index.java

$ dotenvx run -- java index.java
Hello World
```

```bash {{ title: '.NET' }}
$ dotnet new console -n HelloWorld -o HelloWorld
$ cd HelloWorld
$ echo "HELLO=World" > .env 
$ echo 'Console.WriteLine($"Hello {Environment.GetEnvironmentVariable("HELLO")}");' > Program.cs

$ dotenvx run -- dotnet run
Hello World
```

```bash {{ title: 'Bash' }}
$ echo "HELLO=World" > .env

$ dotenvx run --quiet -- sh -c 'echo Hello $HELLO'
Hello World
```

```bash {{ title: 'Frameworks' }}
$ dotenvx run -- next dev
$ dotenvx run -- npm start
$ dotenvx run -- bin/rails s
$ dotenvx run -- php artisan serve
```

</CodeGroup>

## Multiple Environments

> Create a `.env.production` file and use `-f` to load it. It's straightforward, yet flexible.

<CodeGroup>

```bash {{ title: 'Node' }}
$ echo "HELLO=production" > .env.production
$ echo "console.log('Hello ' + process.env.HELLO)" > index.js

$ dotenvx run -f .env.production -- node index.js
Hello production
```

```bash {{ title: 'Deno' }}
$ echo "HELLO=production" > .env.production
$ echo "console.log('Hello ' + Deno.env.get('HELLO'))" > index.ts

$ dotenvx run -f .env.production -- deno run --allow-env index.ts
Hello production
```

```bash {{ title: 'Bun' }}
$ echo "HELLO=production" > .env.production
$ echo "console.log('Hello ' + process.env.HELLO)" > index.js

$ dotenvx run -f .env.production -- bun index.js
Hello production
```

```bash {{ title: 'Python' }}
$ echo "HELLO=production" > .env.production
$ echo 'import os;print("Hello " + os.getenv("HELLO", ""))' > index.py

$ dotenvx run -f .env.production -- python3 index.py
Hello production
```

```bash {{ title: 'PHP' }}
$ echo "HELLO=production" > .env.production
$ echo '<?php echo "Hello {$_SERVER["HELLO"]}\n";' > index.php

$ dotenvx run -f .env.production -- php index.php
Hello production
```

```bash {{ title: 'Ruby' }}
$ echo "HELLO=production" > .env.production
$ echo 'puts "Hello #{ENV["HELLO"]}"' > index.rb

$ dotenvx run -f .env.production -- ruby index.rb
Hello production
```

```bash {{ title: 'Go' }}
$ echo "HELLO=production" > .env.production
$ echo 'package main; import ("fmt"; "os"); func main() { fmt.Printf("Hello %s\n", os.Getenv("HELLO")) }' > main.go

$ dotenvx run -f .env.production -- go run main.go
Hello production
```

```bash {{ title: 'Rust' }}
$ echo "HELLO=production" > .env.production
$ echo 'fn main() {let hello = std::env::var("HELLO").unwrap_or("".to_string());println!("Hello {hello}");}' > src/main.rs

$ dotenvx run -f .env.production -- cargo run
Hello production
```

```bash {{ title: 'Java' }}
$ echo "HELLO=production" > .env.production
$ echo 'public class Index { public static void main(String[] args) { System.out.println("Hello " + System.getenv("HELLO")); } }' > index.java

$ dotenvx run -f .env.production -- java index.java
Hello production
```

```bash {{ title: '.NET' }}
$ dotnet new console -n HelloWorld -o HelloWorld
$ cd HelloWorld
$ echo "HELLO=production" > .env.production
$ echo 'Console.WriteLine($"Hello {Environment.GetEnvironmentVariable("HELLO")}");' > Program.cs

$ dotenvx run -f .env.production -- dotnet run
Hello production
```

```bash {{ title: 'Bash' }}
$ echo "HELLO=production" > .env.production

$ dotenvx run --quiet -f .env.production -- sh -c 'echo Hello $HELLO'
Hello production
```

```bash {{ title: 'Frameworks' }}
$ echo "HELLO=production" > .env.production

$ dotenvx run -f .env.production -- next dev
$ dotenvx run -f .env.production -- npm start
$ dotenvx run -f .env.production -- bin/rails s
$ dotenvx run -f .env.production -- php artisan serve
```

</CodeGroup>

## Add Encryption

> Add encryption to your `.env*` files with a single command. Run `dotenvx encrypt` or `dotenvx set HELLO value`.

```bash {{ title: "Add encryption" }}
$ dotenvx set HELLO "production (encrypted)" -f .env.production
set HELLO with encryption (.env.production)
```

You encrypted `HELLO`.

```ini {{ title: ".env.production" }}
#/-------------------[DOTENV_PUBLIC_KEY]--------------------/
#/            public-key encryption for .env files          /
#/       [how it works](https://dotenvx.com/encryption)     /
#/----------------------------------------------------------/
DOTENV_PUBLIC_KEY_PRODUCTION="038759c073282f2efa6c5ffea8f66ad9cf0de7a855df8db242771f44d7472b63cb"

# .env.production
HELLO="encrypted:BGMyAFNH6UjetjWsYHUkbndQosw/barJwdynj9wXQmlucqsM2TxCAxCwXNKQfbA8axd2TCcUJaWVltrhcUZdtDo87caC7aN2G9D7m3/vQVpcCffdYeaKtlrGyGB9IHJzKOrXH3jEheKQBPLv1L6foObYREAeRzw="
```

Run your code again.

<CodeGroup>

```bash {{ title: 'Node' }}
$ dotenvx run -f .env.production -- node index.js
Hello production (encrypted)
```

```bash {{ title: 'Deno' }}
$ dotenvx run -f .env.production -- deno run --allow-env index.ts
Hello production (encrypted)
```

```bash {{ title: 'Bun' }}
$ dotenvx run -f .env.production -- bun index.js
Hello production (encrypted)
```

```bash {{ title: 'Python' }}
$ dotenvx run -f .env.production -- python3 index.py
Hello production (encrypted)
```

```bash {{ title: 'PHP' }}
$ dotenvx run -f .env.production -- php index.php
Hello production (encrypted)
```

```bash {{ title: 'Ruby' }}
$ dotenvx run -f .env.production -- ruby index.rb
Hello production (encrypted)
```

```bash {{ title: 'Go' }}
$ dotenvx run -f .env.production -- go run main.go
Hello production (encrypted)
```

```bash {{ title: 'Rust' }}
$ dotenvx run -f .env.production -- cargo run
Hello production (encrypted)
```

```bash {{ title: 'Java' }}
$ dotenvx run -f .env.production -- java index.java
Hello production (encrypted)
```

```bash {{ title: '.NET' }}
$ dotenvx run -f .env.production -- dotnet run
Hello production (encrypted)
```

```bash {{ title: 'Bash' }}
$ dotenvx run --quiet -f .env.production -- sh -c 'echo Hello $HELLO'
Hello production (encrypted)
```

```bash {{ title: 'Frameworks' }}
$ dotenvx run -f .env.production -- next dev
$ dotenvx run -f .env.production -- npm start
$ dotenvx run -f .env.production -- bin/rails s
$ dotenvx run -f .env.production -- php artisan serve
```


</CodeGroup>

It worked, again - this time with encryption. How? Look at your `.env.keys` file. It contains the private decryption key.

```ini {{ title: ".env.keys" }}
#/------------------!DOTENV_PRIVATE_KEYS!-------------------/
#/ private decryption keys. DO NOT commit to source control /
#/     [how it works](https://dotenvx.com/encryption)       /
#/----------------------------------------------------------/

# .env.production
DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2"
```


Alternatively, preface `dotenvx run --` with `DOTENV_PRIVATE_KEY_PRODUCTION`.

<CodeGroup>

```bash {{ title: 'Node' }}
$ DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2" dotenvx run -- node index.js
Hello production (encrypted)
```

```bash {{ title: 'Deno' }}
$ DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2" dotenvx run -- deno run --allow-env index.ts
Hello production (encrypted)
```

```bash {{ title: 'Bun' }}
$ DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2" dotenvx run -- bun index.js
Hello production (encrypted)
```

```bash {{ title: 'Python' }}
$ DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2" dotenvx run -- python3 index.py
Hello production (encrypted)
```

```bash {{ title: 'PHP' }}
$ DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2" dotenvx run -- php index.php
Hello production (encrypted)
```

```bash {{ title: 'Ruby' }}
$ DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2" dotenvx run -- ruby index.rb
Hello production (encrypted)
```

```bash {{ title: 'Go' }}
$ DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2" dotenvx run -- go run main.go
Hello production (encrypted)
```

```bash {{ title: 'Rust' }}
$ DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2" dotenvx run -- cargo run
Hello production (encrypted)
```

```bash {{ title: 'Java' }}
$ DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2" dotenvx run -- java index.java
Hello production (encrypted)
```

```bash {{ title: '.NET' }}
$ DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2" dotenvx run -- dotnet run
Hello production (encrypted)
```

```bash {{ title: 'Bash' }}
$ DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2" dotenvx run --quiet -- sh -c 'echo Hello $HELLO'
Hello production (encrypted)
```

```bash {{ title: 'Frameworks' }}
$ DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2" dotenvx run -- next dev
$ DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2" dotenvx run -- npm start
$ DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2" dotenvx run -- bin/rails s
$ DOTENV_PRIVATE_KEY_PRODUCTION="bd7c50b352ce23973ec9db355d70212305a0baaade92f0165f02915b213bfbe2" dotenvx run -- php artisan serve
```

</CodeGroup>

`dotenvx run` is smart enough to introspect from either the `DOTENV_PRIVATE_KEY_PRODUCTION` environment variable or from the `.env.keys` file.

We recommend using the `.env.keys` when simulating production on your local machine. On your production server set the single `DOTENV_PRIVATE_KEY_PRODUCTION` value and all future deployments of your `.env.production` will be decrypted at runtime.

Do NOT commit your `.env.keys` file to code, but it is safe (and recommended) to commit your encrypted `.env.production` file to code.

Under the hood, this is all implemented using the same public-key cryptography as [Bitcoin](https://en.bitcoin.it/wiki/Secp256k1). 

Enjoy safer `.env` files! 🎉
